{
    "abstractions":{
        "1": {
            "intent": "Global path to initialize the book manager.",
            "start": true,
            "abstractions": [
                {
                    "id": "1",
                    "intent": "Import the operating systems library."
                },
                {
                    "id": "24",
                    "intent": "Script is being run directly.",
                    "type": "conditional",
                    "abstractions": [
                        {
                            "id": "25",
                            "intent": "Start the library manager.",
                            "type": "function_call",
                            "target": "15"
                        }
                    ]
                }
            ]
        },
        "2" : {
            "intent": "Places book on shelf.",
            "source": "18",
            "abstractions": [
                {
                    "id": "3",
                    "intent": "Prints details for book named <name> with genre <genre>.",
                    "variables": [
                        {
                            "name": "name",
                            "placeholder":"<name>",
                            "scope": "local"
                        },
                        {
                            "name": "genre",
                            "placeholder":"<genre>",
                            "scope": "local"
                        }
                    ]
                },
                {
                    "id": "4",
                    "intent": "Get first letter of book named <name> to create slot for book on shelf.",
                    "variables": [
                        {
                            "name": "name",
                            "placeholder":"<name>",
                            "scope": "local"
                        }
                    ]
                },
                {
                    "id": "5",
                    "intent": "Slot for letter <firstLetter> does not exist on shelf.",
                    "type": "conditional_branch",
                    "variables": [
                        {
                            "name": "firstLetter",
                            "placeholder":"<firstLetter>",
                            "scope": "local"
                        }
                    ],
                    "abstractions": [
                        {
                            "id": "6",
                            "intent": "Create slot for book on shelf using first letter <firstLetter>.",
                            "variables": [
                                {
                                    "name": "firstLetter",
                                    "placeholder":"<firstLetter>",
                                    "scope": "local"
                                }
                            ]
                        }
                    ]
                },
                {
                    "id": "8",
                    "intent": "Slot for <firstLetter> exists, print confirmation that slot already exists.",
                    "type": "conditional_branch",
                    "variables": [
                        {
                            "name": "firstLetter",
                            "placeholder":"<firstLetter>",
                            "scope": "local"
                        }
                    ]
                },                    
                {
                    "id": "9",
                    "intent": "Place book named <name> on shelf.",
                    "variables": [
                        {
                            "name": "name",
                            "placeholder":"<name>",
                            "scope": "local"
                        }
                    ]
                }
            ]
        },
        "10": {
            "intent": "Accept the book and return the name and genre.",
            "source": "18",
            "abstractions": [
                {
                    "id": "11",
                    "intent": "Request book information."
                },
                {
                    "id": "12",
                    "intent": "Prompt and accept book name",
                    "variables": [
                        {
                            "name": "name",
                            "placeholder":"<name>",
                            "scope": "local"
                        }
                    ],
                    "constraint": [
                        {
                            "name": "name",
                            "type":"minLength",
                            "value": 1
                        }
                    ]
                },
                {
                    "id": "13",
                    "intent": "Prompt and accept for book genre"
                },
                {
                    "id": "14",
                    "intent": "Return the name <name> and genre <genre>.",
                    "variables": [
                        {
                            "name": "name",
                            "placeholder":"<name>",
                            "scope": "local"
                        },
                        {
                            "name": "genre",
                            "placeholder":"<genre>",
                            "scope": "local"
                        }
                    ]
                }
            ]
        },
        "15": {
            "intent": "Provide the library manager.",
            "source": "25",
            "abstractions": [
                {
                    "id": "16",
                    "intent": "Create book shelf"
                },
                {
                    "id": "17",
                    "intent": "Begin accepting book details and sort into shelf.",
                    "type": "independant_while",
                    "abstractions": [
                        {
                            "id": "18",
                            "intent": "Accept book details",
                            "type": "function_call",
                            "target": "10",
                            "variables": [
                                {
                                    "name": "name",
                                    "placeholder":"<name>",
                                    "scope": "local"
                                }
                            ],
                            "constraint": [
                                {
                                    "name": "book_details",
                                    "key":"name",
                                    "scope":"local",
                                    "type":"minLength",
                                    "value": 1
                                }
                            ]
                        },
                        {
                            "id": "19",
                            "intent": "Place book on the shelf",
                            "type": "function_call",
                            "target": "2"
                        },
                        {
                            "id": "20",
                            "intent": "Ask the user if they want to continue"
                        },
                        {
                            "id": "21",
                            "intent": "The user chose to quit.",
                            "type": "conditional",
                            "abstractions": [
                                {
                                    "id": "22",
                                    "intent": "Terminate program."
                                }
                            ]
                        },
                        {
                            "id": "23",
                            "intent": "Display message confirming exit."
                        }
                    ]
                }
            ]
        }
    }
}