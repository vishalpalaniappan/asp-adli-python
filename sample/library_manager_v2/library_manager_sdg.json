{
    "name": "library_manager_v2",
    "type": "Semantic Design Graph",
    "meta": "library_manager_meta.json",

    "modules": {
        "0": {
            "name": "Global Path",
            "type": "function",
            "abstractions": [
                {
                    "id": "0-1"
                },
                {
                    "id": "0-2",
                    "type": "conditional_branch",
                    "abstractions": [
                        {
                            "id": "0-2-1",
                            "type": "function_call",
                            "target": "3"
                        }
                    ]
                }
            ]
        },
        "1": {
            "name": "Place Books On Shelf",
            "type": "function",
            "source": ["3-3-3-2"],
            "functional_abstractions": [
                {
                    "intent": "Checking Basket For Book",
                    "type": "selector",
                    "id": "CheckingBasketForBook",
                    "abstractions": [
                        "1-1"
                    ]
                },
                {
                    "intent": "Getting book from basket",
                    "id": "GettingBookFromBasket",
                    "abstractions": [
                        "1-1-1",
                        "1-1-2"
                    ]
                },
                {
                    "name": "Getting first name of book",
                    "id": "GettingFirstNameOfBook",
                    "abstractions": [
                        "1-1-3"
                    ]
                },
                {
                    "name": "Checking If Shelf Has Slot",
                    "id": "CheckingIfShelfHasSlot",
                    "type": "selector",
                    "abstractions": [
                        "1-1-4"
                    ]
                },
                {
                    "name": "Creating slot for book on shelf",
                    "id": "CreateSlotForBookOnShelf",
                    "abstractions": [
                        "1-1-4-1"
                    ]
                },
                {
                    "name": "Adding book to shelf.",
                    "id": "AddingBookToShelf",
                    "abstractions": [
                        "1-1-5"
                    ]
                },
                {
                    "name": "Return Books",
                    "id": "ReturnBooks",
                    "abstractions": [
                        "1-2"
                    ]
                }
            ],
            "abstractions": [
                {
                    "id": "1-1",
                    "type": "while",
                    "abstractions": [
                        {
                            "id": "1-1-1"
                        },
                        {
                            "id": "1-1-2"                    
                        },
                        {
                            "id": "1-1-3"                    
                        },
                        {
                            "id": "1-1-4",
                            "type": "conditional_branch",
                            "abstractions": [
                                {
                                    "id":"1-1-4-1"
                                }
                            ]                          
                        },
                        {
                            "id": "1-1-5"
                        }
                    ]
                },
                {
                    "id": "1-2"
                }
            ]
        },
        "2": {
            "name": "Accept Book Information",
            "type": "function",
            "source": ["3-3-2-1"],
            "functional_abstractions": [
                {
                    "name": "Display Request",
                    "id": "DisplayRequest",
                    "abstractions":  [
                        "2-1"
                    ]
                },
                {
                    "name": "Accept Book Name",
                    "id": "AcceptBookName",
                    "abstractions":  [
                        "2-2"
                    ]
                },
                {
                    "name": "Accept Book Genre",
                    "id": "AcceptBookGenre",
                    "abstractions":  [
                        "2-3"
                    ]
                },
                {
                    "name": "Assemble Book Details",
                    "id": "AssembleBookDetails",
                    "abstractions":  [
                        "2-4"
                    ]
                },
                {
                    "name": "Return Book Details",
                    "id": "ReturnBookDetails",
                    "abstractions":  [
                        "2-5"
                    ]
                }
            ],
            "abstractions": [
                {
                    "id": "2-1"
                },
                {
                    "id": "2-2"
                },
                {
                    "id": "2-3"
                },
                {
                    "id": "2-4"
                },
                {
                    "id": "2-5"
                }
            ]
        },
        "3": {
            "name": "Library Manager",
            "id": "LibraryManager",
            "type": "function",
            "source": ["0-2-1"],
            "functional_abstractions": [
                {
                    "name": "Create basket and book_shelf",
                    "id": "CreateBasketAndBookShelf",
                    "abstractions":  [
                        "3-1",
                        "3-2"
                    ]
                },
                {
                    "name": "Display Menu and Accept Response",
                    "id": "DisplayMenuAndAcceptResponse",
                    "abstractions": [
                        "3-3",
                        "3-3-1",
                        "3-3-2",
                        "3-3-3",
                        "3-3-4",
                        "3-3-5"
                    ]
                },
                {
                    "name": "Accept Book Information",
                    "id": "AcceptBookInformation",
                    "abstractions":[
                        "3-3-2-1"
                    ]
                },
                {
                    "name": "Add Book To Basket",
                    "id": "AddBookToBasket",
                    "abstractions":[
                        "3-3-2-2"
                    ]
                },
                {
                    "name": "Check if too many books",
                    "id": "CheckIfTooManyBooks",
                    "selector_id": "CheckIfTooManyBooks",
                    "type": "selector",
                    "abstractions":[
                        "3-3-3-1"
                    ]                    
                },
                {
                    "name": "Fail if too many books",
                    "id": "FailIfTooManyBooks",
                    "abstractions":[
                        "3-3-3-2"
                    ]                    
                },
                {
                    "name": "Place Book On Shelf",
                    "id": "PlaceBookOnShelf",
                    "abstractions":[
                        "3-3-3-3"
                    ]                    
                },
                {
                    "name": "Display Book Shelf",
                    "id": "DisplayBookShelf",
                    "abstractions":[
                        "3-3-4-1"
                    ]
                },
                {
                    "name": "Display Basket",
                    "id": "DisplayBasket",
                    "abstractions":[
                        "3-3-4-2"
                    ]
                }
            ],
            "abstractions": [
                {
                    "id": "3-1"
                },
                {
                    "id": "3-2"
                },
                {
                    "id": "3-3",
                    "type": "while",
                    "abstractions": [
                        {
                            "id": "3-3-1"
                        },
                        {
                            "id": "3-3-2",
                            "type": "conditional_branch",
                            "abstractions": [
                                {
                                    "id": "3-3-2-1",
                                    "type": "function_call",
                                    "target": "2"
                                },
                                {
                                    "id": "3-3-2-2"
                                }
                            ]
                        },
                        {
                            "id": "3-3-3",
                            "type": "conditional_branch",
                            "abstractions": [
                                {
                                    "id": "3-3-3-1"
                                },
                                {
                                    "id": "3-3-3-2"
                                },
                                {
                                    "id": "3-3-3-3",
                                    "type": "function_call",
                                    "target": "1"
                                }
                            ]
                        },
                        {
                            "id": "3-3-4",
                            "type": "conditional_branch",
                            "abstractions": [
                                {
                                    "id": "3-3-4-1"
                                },
                                {
                                    "id": "3-3-4-2"
                                }
                            ]
                        },
                        {
                            "id": "3-3-5",
                            "type": "conditional_branch",
                            "abstractions": [
                                {
                                    "id": "3-3-5"
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    }
}