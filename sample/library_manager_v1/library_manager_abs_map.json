{
    "description": "Line to Abstraction Mapping",
    "modules": {
        "global": {
            "1": {
                "id": "0-1",
                "syntax": "import sys"
            },
            "46": {
                "id": "0-2",
                "syntax": "if __name__ == \"__main__\":"
            },
            "47": {
                "id": "0-2-1",
                "syntax": "sys.exit(library_manager())"
            }
        },
        "1": {
            "startLine": "3",
            "abstractions": {
                "0": {
                    "id": "1",
                    "syntax": "def place_book_on_shelf(book_shelf, name, genre):"
                },
                "2": {
                    "id": "1-1",
                    "syntax": "print(f\"Accepted book: {name} (Genre: {genre})\")"
                },
                "4": {
                    "id": "1-2",
                    "syntax": "firstLetter = name[0].upper()"
                },
                "6": {
                    "id": "1-3",
                    "syntax": "if (firstLetter not in book_shelf):"
                },
                "7": {
                    "id": "1-3-1",
                    "syntax": "book_shelf[firstLetter] = []"
                },
                "9": {
                    "id": "1-4",
                    "syntax": "print(\"Slot for book already exists.\")"
                },
                "11": {
                    "id": "1-5",
                    "syntax": "book_shelf[firstLetter].append(name)"
                },
                "13": {
                    "id": "1-6",
                    "syntax": "return book_shelf"
                }
            }
        },
        "2": {
            "startLine": "18",
            "abstractions": {
                "0": {
                    "id": "2",
                    "syntax": "def accept_book():"
                },
                "2": {
                    "id": "2-1",
                    "syntax": "print(\"\nEnter book details:\")"
                },
                "4": {
                    "id": "2-2",
                    "syntax": "name = input(\"Book name: \")"
                },
                "6": {
                    "id": "2-3",
                    "syntax": "genre = input(\"Genre: \")"
                },
                "8": {
                    "id": "2-4",
                    "syntax": "return {\"name\":name, \"genre\":genre}"
                }
            }
        },
        "3": {
            "startLine": "29",
            "abstractions": {
                "0": {
                    "id": "3",
                    "syntax": "def library_manager():"
                },
                "2": {
                    "id": "3-1",
                    "syntax": "book_shelf = {}"
                },
                "4": {
                    "id": "3-2",
                    "syntax": "while True:"
                },
                "6": {
                    "id": "3-2-1",
                    "syntax": "book_details = accept_book()"
                },
                "8": {
                    "id": "3-2-2",
                    "syntax": "book_shelf = place_book_on_shelf(book_shelf, book_details[\"name\"], book_details[\"genre\"])"
                },
                "10": {
                    "id": "3-2-3",
                    "syntax": "more = input(\"Add another book? (y): \").lower()"
                },
                "12": {
                    "id": "3-2-4",
                    "syntax": "if more != \"y\":"
                },
                "13": {
                    "id": "3-2-4-1",
                    "syntax": "break"
                },
                "15": {
                    "id": "3-3",
                    "syntax": "print(\"Exiting library manager, goodbye.\")"
                }
            }
        }
    }
}