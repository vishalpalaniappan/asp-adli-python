{
    "0": {
        "intent": "Global path to initialize the book manager.",
        "name": "global",
        "type": "global",
        "start": true
    },
    "0-1": {
        "intent": "Import the sys library."
    },
    "0-2": {
        "intent": "Check if script is being run directly.",
        "type": "conditional_branch"
    },
    "0-2-1": {
        "intent": "Start the library manager.",
        "type": "function_call",
        "target": "3"
    },
    "1" : {
        "intent": "Places book on shelf.",
        "type": "function",
        "name": "Place Books On Shelf",
        "source": ["3-2-2"]
    },
    "1-1" : {
        "intent": "Prints details for book named <name> with genre <genre>.",
        "variables": [
            {
                "name": "name",
                "placeholder":"<name>",
                "scope": "local"
            },
            {
                "name": "genre",
                "placeholder":"<genre>",
                "scope": "local"
            }
        ]
    },
    "1-2": {
        "intent": "Get first letter of book named <name> to create slot for book on shelf.",
        "variables": [
            {
                "name": "name",
                "placeholder":"<name>",
                "scope": "local"
            }
        ]
    },
    "1-3": {
        "intent": "Check if slot for letter <firstLetter> exists on the shelf.",
        "variables": [
            {
                "name": "firstLetter",
                "placeholder":"<firstLetter>",
                "scope": "local"
            }
        ]
    },
    "1-3-1": {
        "intent": "Create slot for book on shelf using first letter <firstLetter>.",
        "variables": [
            {
                "name": "firstLetter",
                "placeholder":"<firstLetter>",
                "scope": "local"
            }
        ]
    },
    "1-4": {
        "intent": "Slot for <firstLetter> exists, print confirmation that slot already exists.",
        "type": "conditional_branch",
        "variables": [
            {
                "name": "firstLetter",
                "placeholder":"<firstLetter>",
                "scope": "local"
            }
        ]
    },
    "1-5": {
        "intent": "Place book named <name> on shelf.",
        "variables": [
            {
                "name": "name",
                "placeholder":"<name>",
                "scope": "local"
            }
        ]
    },
    "1-6": {
        "intent": "Return updated bookshelf."
    },
    "2": {
        "intent": "Accept the book and return the name and genre.",
        "type": "function",
        "name": "Acccept Book Information",
        "source": ["3-2-1"]
    },
    "2-1": {
        "intent": "Display request for book information."
    },
    "2-2": {
        "intent": "Prompt and accept book name",
        "constraint": [
            {
                "id": "2-2+1",
                "name": "name",
                "scope": "local",
                "type":"minLength",
                "value": 1,
                "failures": ["1-2"],
                "rootcause": {
                    "1-2": "The root cause of failure was that an empty string was accepted as a book name, even though the design intended to use the first letter of the name to determine the correct placement slot on the bookshelf, which caused the program to fail when it attempted to access the first character of the name."
                }
            }
        ]
    },
    "2-3": {
        "intent": "Prompt and accept for book genre"
    },
    "2-4": {
        "intent": "Return the name <name> and genre <genre>.",
        "variables": [
            {
                "name": "name",
                "placeholder":"<name>",
                "scope": "local"
            },
            {
                "name": "genre",
                "placeholder":"<genre>",
                "scope": "local"
            }
        ]
    },
    "3": {
        "intent": "Start the library manager.",
        "type": "function",
        "name": "Library Manager",
        "source": ["0-2-1"]
    },
    "3-1": {
        "intent": "Create the bookshelf.",
        "constraint": [
            {
                "id": "3-1+1",
                "name": "book_shelf",
                "scope": "local",
                "type":"is_object",
                "value": "object",
                "failures": ["1-3", "1-3-1"],
                "rootcause": {
                    "1-3": "The root cause of failure was that the bookshelf was never initialized as an object with the intention of checking to see if a key exists in it for placing the books in the relevant slot. This resulted in a failure when attempting to check if a slot exists for the firstLetter on the bookshelf because the in operator requires an iterable.",
                    "1-3-1": "The root cause of failure was that the bookshelf was never initialized as an object, despite the design intending to use it as a keyed storage abstraction for placing books into slots, which caused the program to fail when it attempted to create a slot for a book."
                }
            }
        ]
    },
    "3-2": {
        "intent": "Begin accepting book details and sort into shelf.",
        "type": "independent_while",
        "name": "Library Manager"
    },
    "3-2-1": {
        "intent": "Accept book details",
        "type": "function_call",
        "target": "2"
    },
    "3-2-2": {
        "intent": "Place book on the shelf",
        "type": "function_call",
        "target": "1"
    },
    "3-2-3": {
        "intent": "Ask the user if they want to continue"
    },
    "3-2-4": {
        "intent": "Check if the user chose to quit.",
        "type": "conditional_branch"
    },
    "3-2-4-1": {
        "intent": "Terminate program."
    },
    "3-3": {
        "intent": "Display message confirming exit."
    }
}